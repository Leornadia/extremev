(()=>{var e={};e.id=4385,e.ids=[4385],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},55315:e=>{"use strict";e.exports=require("path")},86624:e=>{"use strict";e.exports=require("querystring")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},28687:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d}),s(13347),s(98302),s(59134),s(19644),s(35866);var r=s(23191),a=s(88716),l=s(37922),n=s.n(l),i=s(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let d=["",{children:["admin",{children:["components",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,13347)),"/Users/almeidajose/Documents/A/App/Extreme V/app/admin/components/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,98302)),"/Users/almeidajose/Documents/A/App/Extreme V/app/admin/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,59134)),"/Users/almeidajose/Documents/A/App/Extreme V/app/layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,19644)),"/Users/almeidajose/Documents/A/App/Extreme V/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/almeidajose/Documents/A/App/Extreme V/app/admin/components/page.tsx"],m="/admin/components/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/components/page",pathname:"/admin/components",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},60376:(e,t,s)=>{Promise.resolve().then(s.bind(s,35473))},35473:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>q});var r=s(10326),a=s(17577);s(564),s(28640),s(97569),s(26726);var l=s(46226),n=s(85119),i=s(94019),o=s(62881);let d=(0,o.Z)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);var c=s(41291),m=s(30361);function u({type:e,onUploadComplete:t,currentUrl:s,label:l,accept:o}){let[u,x]=(0,a.useState)(!1),[p,h]=(0,a.useState)(null),[g,b]=(0,a.useState)(!1),[j,f]=(0,a.useState)(s||null),y=(0,a.useRef)(null),v="model"===e?".glb,.gltf":".jpg,.jpeg,.png,.webp,.avif",N=async r=>{let a=r.target.files?.[0];if(a){x(!0),h(null),b(!1);try{if("image"===e){let e=new FileReader;e.onloadend=()=>{f(e.result)},e.readAsDataURL(a)}let s=new FormData;s.append("file",a),s.append("type",e);let r=await fetch("/api/admin/upload",{method:"POST",body:s});if(!r.ok){let e=await r.json();throw Error(e.error?.message||"Upload failed")}let l=await r.json();b(!0),t(l.data.url),setTimeout(()=>b(!1),3e3)}catch(e){console.error("Upload error:",e),h(e instanceof Error?e.message:"Upload failed"),f(s||null)}finally{x(!1)}}},w=()=>{f(null),h(null),b(!1),y.current&&(y.current.value="")};return(0,r.jsxs)("div",{className:"space-y-3",children:[l&&r.jsx("label",{className:"block text-sm font-medium text-neutral-700",children:l}),(0,r.jsxs)("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-6 text-center hover:border-primary-500 transition-colors",children:[j&&"image"===e&&(0,r.jsxs)("div",{className:"mb-4 relative inline-block",children:[r.jsx("img",{src:j,alt:"Preview",className:"max-h-40 rounded-lg"}),r.jsx("button",{onClick:w,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:r.jsx(i.Z,{className:"w-4 h-4"})})]}),j&&"model"===e&&(0,r.jsxs)("div",{className:"mb-4 p-4 bg-neutral-100 rounded-lg",children:[r.jsx("p",{className:"text-sm text-neutral-700 font-medium",children:"Model uploaded"}),r.jsx("p",{className:"text-xs text-neutral-500 mt-1 break-all",children:j}),r.jsx("button",{onClick:w,className:"mt-2 text-sm text-red-600 hover:text-red-700",children:"Clear"})]}),r.jsx("input",{ref:y,type:"file",accept:o||v,onChange:N,className:"hidden"}),r.jsx(n.zx,{type:"button",variant:"secondary",onClick:()=>{y.current?.click()},disabled:u,className:"mx-auto",children:u?(0,r.jsxs)(r.Fragment,{children:[r.jsx(n.$j,{size:"sm",className:"mr-2"}),"Uploading..."]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(d,{className:"w-4 h-4 mr-2"}),j?"Change File":"Upload File"]})}),r.jsx("p",{className:"text-xs text-neutral-500 mt-2",children:"model"===e?"GLB or GLTF files (max 50MB)":"JPG, PNG, WebP, or AVIF (max 10MB)"}),p&&(0,r.jsxs)("div",{className:"mt-4 flex items-center justify-center gap-2 text-red-600",children:[r.jsx(c.Z,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:p})]}),g&&(0,r.jsxs)("div",{className:"mt-4 flex items-center justify-center gap-2 text-green-600",children:[r.jsx(m.Z,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Upload successful!"})]})]})]})}let x=(0,o.Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var p=s(85206),h=s(98091);let g=["deck","slide","swing","ladder","stairs","roof","structural"];function b({connectionPoints:e,compatibilityRules:t,onChange:s}){let[l,i]=(0,a.useState)(e||[]),[o,d]=(0,a.useState)(null),[c,m]=(0,a.useState)({}),u=e=>{d(e),m(l[e])},b=()=>{if(null===o)return;let e=[...l];e[o]=c,i(e),s(e,t),d(null),m({})},j=()=>{d(null),m({})},f=e=>{let r=l.filter((t,s)=>s!==e);i(r),s(r,t)},y=(e,t)=>{m(s=>({...s,[e]:t}))},v=(e,t)=>{m(s=>({...s,position:{...s.position||{x:0,y:0,z:0},[e]:parseFloat(t)||0}}))},N=(e,t)=>{m(s=>({...s,orientation:{...s.orientation||{x:0,y:0,z:0},[e]:parseFloat(t)||0}}))},w=e=>{let t=e.split(",").map(e=>e.trim()).filter(Boolean);m(e=>({...e,allowedConnections:t}))};return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-semibold text-neutral-900",children:"Connection Points"}),(0,r.jsxs)(n.zx,{type:"button",variant:"secondary",size:"sm",onClick:()=>{let e={id:`cp-${Date.now()}`,type:"deck",position:{x:0,y:0,z:0},orientation:{x:0,y:0,z:0},allowedConnections:[]},r=[...l,e];i(r),s(r,t),d(r.length-1),m(e)},className:"flex items-center gap-2",children:[r.jsx(x,{className:"w-4 h-4"}),"Add Point"]})]}),0===l.length?(0,r.jsxs)("div",{className:"text-center py-8 bg-neutral-50 rounded-lg border border-neutral-200",children:[r.jsx("p",{className:"text-neutral-600",children:"No connection points defined"}),r.jsx("p",{className:"text-sm text-neutral-500 mt-1",children:'Click "Add Point" to create a connection point'})]}):r.jsx("div",{className:"space-y-3",children:l.map((e,t)=>r.jsx("div",{className:"border border-neutral-200 rounded-lg p-4",children:o===t?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Type"}),r.jsx("select",{value:c.type||"",onChange:e=>y("type",e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:g.map(e=>r.jsx("option",{value:e,children:e},e))})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Position (x, y, z)"}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[r.jsx("input",{type:"number",step:"0.1",value:c.position?.x||0,onChange:e=>v("x",e.target.value),placeholder:"X",className:"px-3 py-2 border border-neutral-300 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),r.jsx("input",{type:"number",step:"0.1",value:c.position?.y||0,onChange:e=>v("y",e.target.value),placeholder:"Y",className:"px-3 py-2 border border-neutral-300 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),r.jsx("input",{type:"number",step:"0.1",value:c.position?.z||0,onChange:e=>v("z",e.target.value),placeholder:"Z",className:"px-3 py-2 border border-neutral-300 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Orientation (x, y, z)"}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[r.jsx("input",{type:"number",step:"0.1",value:c.orientation?.x||0,onChange:e=>N("x",e.target.value),placeholder:"X",className:"px-3 py-2 border border-neutral-300 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),r.jsx("input",{type:"number",step:"0.1",value:c.orientation?.y||0,onChange:e=>N("y",e.target.value),placeholder:"Y",className:"px-3 py-2 border border-neutral-300 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),r.jsx("input",{type:"number",step:"0.1",value:c.orientation?.z||0,onChange:e=>N("z",e.target.value),placeholder:"Z",className:"px-3 py-2 border border-neutral-300 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Allowed Connections (comma-separated)"}),r.jsx("input",{type:"text",value:c.allowedConnections?.join(", ")||"",onChange:e=>w(e.target.value),placeholder:"e.g., deck, slide, ladder",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(n.zx,{type:"button",variant:"primary",size:"sm",onClick:b,className:"flex-1",children:"Save"}),r.jsx(n.zx,{type:"button",variant:"ghost",size:"sm",onClick:j,className:"flex-1",children:"Cancel"})]})]}):(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-neutral-900",children:e.type}),(0,r.jsxs)("span",{className:"text-xs text-neutral-500",children:["#",e.id]})]}),(0,r.jsxs)("p",{className:"text-sm text-neutral-600",children:["Position: (",e.position.x,", ",e.position.y,","," ",e.position.z,")"]}),(0,r.jsxs)("p",{className:"text-sm text-neutral-600",children:["Orientation: (",e.orientation.x,", ",e.orientation.y,", ",e.orientation.z,")"]}),e.allowedConnections.length>0&&(0,r.jsxs)("p",{className:"text-sm text-neutral-600",children:["Allowed: ",e.allowedConnections.join(", ")]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:()=>u(t),className:"text-neutral-600 hover:text-primary-600",children:r.jsx(p.Z,{className:"w-4 h-4"})}),r.jsx("button",{type:"button",onClick:()=>f(t),className:"text-neutral-600 hover:text-red-600",children:r.jsx(h.Z,{className:"w-4 h-4"})})]})]})},e.id))}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,r.jsxs)("p",{className:"text-sm text-blue-900",children:[r.jsx("strong",{children:"Note:"})," Connection points define where other components can attach to this component. Position and orientation are in 3D space relative to the component's origin."]})})]})}let j=["Playdecks","Access","Slides","Swings","Roofs","Accessories","Connectors"];function f({mode:e,componentId:t,onClose:s,onSuccess:l}){let[o,d]=(0,a.useState)(!1),[m,x]=(0,a.useState)(null),[p,h]=(0,a.useState)([]),[g,f]=(0,a.useState)({name:"",category:"",subcategory:"",tierId:"",price:"",thumbnail:"",model3D:"",weight:"",published:!1,width:"",depth:"",height:"",unit:"ft",ageRange:"",capacity:"",materials:"",colors:""}),[y,v]=(0,a.useState)([]),[N,w]=(0,a.useState)([]),C=async s=>{s.preventDefault(),d(!0),x(null);try{let s={name:g.name,category:g.category,subcategory:g.subcategory||null,tierId:g.tierId,price:parseFloat(g.price),thumbnail:g.thumbnail,model3D:g.model3D,weight:parseFloat(g.weight),published:g.published,dimensions:{width:parseFloat(g.width),depth:parseFloat(g.depth),height:parseFloat(g.height),unit:g.unit},metadata:{ageRange:g.ageRange,capacity:g.capacity?parseInt(g.capacity):0,materials:g.materials.split(",").map(e=>e.trim()).filter(Boolean),colors:g.colors.split(",").map(e=>e.trim()).filter(Boolean)},connectionPoints:y,compatibilityRules:N},r="create"===e?"/api/admin/components":`/api/admin/components/${t}`,a=await fetch(r,{method:"create"===e?"POST":"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!a.ok){let e=await a.json();throw Error(e.error?.message||"Failed to save component")}l()}catch(e){console.error("Error saving component:",e),x(e instanceof Error?e.message:"Failed to save component")}finally{d(!1)}},k=e=>{let{name:t,value:s,type:r}=e.target,a=e.target.checked;f(e=>({...e,[t]:"checkbox"===r?a:s}))};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"sticky top-0 bg-white border-b border-neutral-200 px-6 py-4 flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-bold text-neutral-900",children:"create"===e?"Create Component":"Edit Component"}),r.jsx("button",{onClick:s,className:"text-neutral-400 hover:text-neutral-600",children:r.jsx(i.Z,{className:"w-6 h-6"})})]}),(0,r.jsxs)("form",{onSubmit:C,className:"p-6 space-y-6",children:[m&&(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[r.jsx(c.Z,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold text-red-900",children:"Error"}),r.jsx("p",{className:"text-sm text-red-700 mt-1",children:m})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-semibold text-neutral-900",children:"Basic Information"}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Name *"}),r.jsx("input",{type:"text",name:"name",value:g.name,onChange:k,required:!0,className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Category *"}),(0,r.jsxs)("select",{name:"category",value:g.category,onChange:k,required:!0,className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"",children:"Select category"}),j.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Subcategory"}),r.jsx("input",{type:"text",name:"subcategory",value:g.subcategory,onChange:k,className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Tier *"}),(0,r.jsxs)("select",{name:"tierId",value:g.tierId,onChange:k,required:!0,className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"",children:"Select tier"}),p.map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Price ($) *"}),r.jsx("input",{type:"number",name:"price",value:g.price,onChange:k,required:!0,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-semibold text-neutral-900",children:"Media"}),r.jsx(u,{type:"image",label:"Thumbnail Image *",currentUrl:g.thumbnail,onUploadComplete:e=>f(t=>({...t,thumbnail:e}))}),g.thumbnail&&r.jsx("input",{type:"hidden",name:"thumbnail",value:g.thumbnail,required:!0}),r.jsx(u,{type:"model",label:"3D Model (GLB/GLTF) *",currentUrl:g.model3D,onUploadComplete:e=>f(t=>({...t,model3D:e}))}),g.model3D&&r.jsx("input",{type:"hidden",name:"model3D",value:g.model3D,required:!0})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-semibold text-neutral-900",children:"Dimensions"}),(0,r.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Width *"}),r.jsx("input",{type:"number",name:"width",value:g.width,onChange:k,required:!0,step:"0.1",min:"0",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Depth *"}),r.jsx("input",{type:"number",name:"depth",value:g.depth,onChange:k,required:!0,step:"0.1",min:"0",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Height *"}),r.jsx("input",{type:"number",name:"height",value:g.height,onChange:k,required:!0,step:"0.1",min:"0",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Unit *"}),(0,r.jsxs)("select",{name:"unit",value:g.unit,onChange:k,required:!0,className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"ft",children:"Feet"}),r.jsx("option",{value:"m",children:"Meters"})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Weight (lbs) *"}),r.jsx("input",{type:"number",name:"weight",value:g.weight,onChange:k,required:!0,step:"0.1",min:"0",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-semibold text-neutral-900",children:"Additional Information"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Age Range"}),r.jsx("input",{type:"text",name:"ageRange",value:g.ageRange,onChange:k,placeholder:"e.g., 3-12 years",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Capacity (children)"}),r.jsx("input",{type:"number",name:"capacity",value:g.capacity,onChange:k,min:"0",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Materials (comma-separated)"}),r.jsx("input",{type:"text",name:"materials",value:g.materials,onChange:k,placeholder:"e.g., Cedar Wood, Stainless Steel",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Available Colors (comma-separated)"}),r.jsx("input",{type:"text",name:"colors",value:g.colors,onChange:k,placeholder:"e.g., Natural, Green, Blue",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),r.jsx(b,{connectionPoints:y,compatibilityRules:N,onChange:(e,t)=>{v(e),w(t)}}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",id:"published",name:"published",checked:g.published,onChange:k,className:"w-4 h-4 text-primary-600 border-neutral-300 rounded focus:ring-primary-500"}),r.jsx("label",{htmlFor:"published",className:"text-sm font-medium text-neutral-700",children:"Publish component (make visible in configurator)"})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-neutral-200",children:[r.jsx(n.zx,{type:"button",variant:"ghost",onClick:s,disabled:o,className:"flex-1",children:"Cancel"}),r.jsx(n.zx,{type:"submit",variant:"primary",disabled:o,className:"flex-1",children:o?(0,r.jsxs)(r.Fragment,{children:[r.jsx(n.$j,{size:"sm",className:"mr-2"}),"Saving..."]}):"create"===e?"Create Component":"Save Changes"})]})]})]})})}var y=s(50949);function v({component:e,onClose:t,onSuccess:s}){let[l,o]=(0,a.useState)(!1),[d,c]=(0,a.useState)(null),m=async()=>{o(!0),c(null);try{let t=await fetch(`/api/admin/components/${e.id}`,{method:"DELETE"});if(!t.ok){let e=await t.json();throw Error(e.error?.message||"Failed to delete component")}s()}catch(e){console.error("Error deleting component:",e),c(e instanceof Error?e.message:"Failed to delete component")}finally{o(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full",children:[(0,r.jsxs)("div",{className:"border-b border-neutral-200 px-6 py-4 flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-bold text-neutral-900",children:"Delete Component"}),r.jsx("button",{onClick:t,className:"text-neutral-400 hover:text-neutral-600",disabled:l,children:r.jsx(i.Z,{className:"w-6 h-6"})})]}),(0,r.jsxs)("div",{className:"p-6 space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:r.jsx(y.Z,{className:"w-5 h-5 text-red-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-neutral-900",children:["Are you sure you want to delete"," ",r.jsx("span",{className:"font-semibold",children:e.name}),"?"]}),r.jsx("p",{className:"text-sm text-neutral-600 mt-2",children:"This action cannot be undone. The component will be permanently removed from the system."})]})]}),d&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsx("p",{className:"text-sm text-red-700",children:d})})]}),(0,r.jsxs)("div",{className:"border-t border-neutral-200 px-6 py-4 flex gap-3",children:[r.jsx(n.zx,{variant:"ghost",onClick:t,disabled:l,className:"flex-1",children:"Cancel"}),r.jsx(n.zx,{variant:"primary",onClick:m,disabled:l,className:"flex-1 bg-red-600 hover:bg-red-700",children:l?(0,r.jsxs)(r.Fragment,{children:[r.jsx(n.$j,{size:"sm",className:"mr-2"}),"Deleting..."]}):"Delete Component"})]})]})})}let N=(0,o.Z)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),w=(0,o.Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);function C({component:e,onUpdated:t,onDeleted:s}){let[i,o]=(0,a.useState)(!1),[d,c]=(0,a.useState)(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-neutral-200 overflow-hidden hover:shadow-lg transition-shadow",children:[(0,r.jsxs)("div",{className:"relative aspect-square bg-neutral-100",children:[r.jsx(l.default,{src:e.thumbnail,alt:e.name,fill:!0,className:"object-cover"}),!e.published&&(0,r.jsxs)("div",{className:"absolute top-2 right-2 bg-yellow-500 text-white px-2 py-1 rounded text-xs font-medium flex items-center gap-1",children:[r.jsx(N,{className:"w-3 h-3"}),"Draft"]}),e.published&&(0,r.jsxs)("div",{className:"absolute top-2 right-2 bg-green-500 text-white px-2 py-1 rounded text-xs font-medium flex items-center gap-1",children:[r.jsx(w,{className:"w-3 h-3"}),"Published"]})]}),(0,r.jsxs)("div",{className:"p-4",children:[r.jsx("h3",{className:"font-semibold text-neutral-900 mb-1",children:e.name}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-neutral-600 mb-2",children:[r.jsx("span",{className:"bg-neutral-100 px-2 py-0.5 rounded",children:e.category}),e.subcategory&&r.jsx("span",{className:"bg-neutral-100 px-2 py-0.5 rounded",children:e.subcategory})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("span",{className:"text-sm text-neutral-600",children:e.tier.name}),(0,r.jsxs)("span",{className:"font-semibold text-primary-600",children:["$",e.price.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(n.zx,{variant:"secondary",size:"sm",onClick:()=>o(!0),className:"flex-1 flex items-center justify-center gap-2",children:[r.jsx(p.Z,{className:"w-4 h-4"}),"Edit"]}),r.jsx(n.zx,{variant:"ghost",size:"sm",onClick:()=>c(!0),className:"text-red-600 hover:bg-red-50",children:r.jsx(h.Z,{className:"w-4 h-4"})})]})]})]}),i&&r.jsx(f,{mode:"edit",componentId:e.id,onClose:()=>o(!1),onSuccess:()=>{o(!1),t?.()}}),d&&r.jsx(v,{component:e,onClose:()=>c(!1),onSuccess:()=>{c(!1),s?.()}})]})}var k=s(88307);let S=["Playdecks","Access","Slides","Swings","Roofs","Accessories","Connectors"];function z({filters:e,onFiltersChange:t}){let[s,l]=(0,a.useState)([]),[n,i]=(0,a.useState)(e.search),o=(s,r)=>{t({...e,[s]:r})};return(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-neutral-200 p-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,r.jsxs)("div",{className:"lg:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Search"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(k.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),r.jsx("input",{type:"text",value:n,onChange:e=>i(e.target.value),placeholder:"Search by name, category...",className:"w-full pl-10 pr-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Category"}),(0,r.jsxs)("select",{value:e.category,onChange:e=>o("category",e.target.value),className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"all",children:"All Categories"}),S.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Tier"}),(0,r.jsxs)("select",{value:e.tier,onChange:e=>o("tier",e.target.value),className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"all",children:"All Tiers"}),s.map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Status"}),(0,r.jsxs)("select",{value:e.published,onChange:e=>o("published",e.target.value),className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"true",children:"Published"}),r.jsx("option",{value:"false",children:"Draft"})]})]})]}),(0,r.jsxs)("div",{className:"mt-4 flex items-center gap-4",children:[r.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Sort by:"}),(0,r.jsxs)("select",{value:e.sortBy,onChange:e=>o("sortBy",e.target.value),className:"px-3 py-1.5 border border-neutral-300 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"createdAt",children:"Date Created"}),r.jsx("option",{value:"name",children:"Name"}),r.jsx("option",{value:"category",children:"Category"}),r.jsx("option",{value:"price",children:"Price"})]}),(0,r.jsxs)("select",{value:e.sortOrder,onChange:e=>o("sortOrder",e.target.value),className:"px-3 py-1.5 border border-neutral-300 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"asc",children:"Ascending"}),r.jsx("option",{value:"desc",children:"Descending"})]})]})]})}function F({refreshTrigger:e=0,onComponentUpdated:t,onComponentDeleted:s}){let[l,i]=(0,a.useState)([]),[o,d]=(0,a.useState)(!0),[m,u]=(0,a.useState)(null),[x,p]=(0,a.useState)({category:"all",tier:"all",published:"all",search:"",sortBy:"createdAt",sortOrder:"desc"});return o?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(n.$j,{size:"lg"})}):m?r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx(c.Z,{className:"w-5 h-5 text-red-600"}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold text-red-900",children:"Error Loading Components"}),r.jsx("p",{className:"text-sm text-red-700 mt-1",children:m})]})]})}):(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx(z,{filters:x,onFiltersChange:p}),r.jsx("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("p",{className:"text-sm text-neutral-600",children:[l.length," component",1!==l.length?"s":""," ","found"]})}),0===l.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx("p",{className:"text-neutral-600",children:"No components found"}),r.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"Try adjusting your filters or create a new component"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(e=>r.jsx(C,{component:e,onUpdated:t,onDeleted:s},e.id))})]})}var P=s(71821);let A=["Playdecks","Access","Slides","Swings","Roofs","Accessories","Connectors"];function E({onClose:e,onSuccess:t}){let[s,l]=(0,a.useState)(!1),[o,d]=(0,a.useState)(null),[m,u]=(0,a.useState)([]),[x,p]=(0,a.useState)({adjustmentType:"percentage",adjustmentValue:"",category:"",tierId:""}),h=async e=>{e.preventDefault(),l(!0),d(null);try{let e={adjustmentType:x.adjustmentType,adjustmentValue:parseFloat(x.adjustmentValue),category:x.category||void 0,tierId:x.tierId||void 0},s=await fetch("/api/admin/components/bulk-pricing",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok){let e=await s.json();throw Error(e.error?.message||"Failed to update pricing")}let r=await s.json();alert(r.message),t()}catch(e){console.error("Error updating pricing:",e),d(e instanceof Error?e.message:"Failed to update pricing")}finally{l(!1)}},g=e=>{let{name:t,value:s}=e.target;p(e=>({...e,[t]:s}))};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"sticky top-0 bg-white border-b border-neutral-200 px-6 py-4 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:r.jsx(P.Z,{className:"w-5 h-5 text-primary-600"})}),r.jsx("h2",{className:"text-xl font-bold text-neutral-900",children:"Bulk Pricing Update"})]}),r.jsx("button",{onClick:e,className:"text-neutral-400 hover:text-neutral-600",children:r.jsx(i.Z,{className:"w-6 h-6"})})]}),(0,r.jsxs)("form",{onSubmit:h,className:"p-6 space-y-6",children:[o&&(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[r.jsx(c.Z,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold text-red-900",children:"Error"}),r.jsx("p",{className:"text-sm text-red-700 mt-1",children:o})]})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,r.jsxs)("p",{className:"text-sm text-blue-900",children:[r.jsx("strong",{children:"Note:"})," This will update prices for all components matching the selected filters. Use with caution."]})}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Adjustment Type *"}),(0,r.jsxs)("select",{name:"adjustmentType",value:x.adjustmentType,onChange:g,required:!0,className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"percentage",children:"Percentage Change"}),r.jsx("option",{value:"fixed",children:"Fixed Amount Change"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["percentage"===x.adjustmentType?"Percentage (%)":"Amount ($)"," ","*"]}),r.jsx("input",{type:"number",name:"adjustmentValue",value:x.adjustmentValue,onChange:g,required:!0,step:"0.01",placeholder:"percentage"===x.adjustmentType?"e.g., 10 for +10%, -5 for -5%":"e.g., 50 for +$50, -10 for -$10",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),r.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"percentage"===x.adjustmentType?"Enter positive number to increase, negative to decrease":"Enter positive amount to add, negative to subtract"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-semibold text-neutral-900",children:"Filter Components (Optional)"}),r.jsx("p",{className:"text-sm text-neutral-600",children:"Leave filters empty to update all components"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Category"}),(0,r.jsxs)("select",{name:"category",value:x.category,onChange:g,className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"",children:"All Categories"}),A.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Tier"}),(0,r.jsxs)("select",{name:"tierId",value:x.tierId,onChange:g,className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"",children:"All Tiers"}),m.map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))]})]})]})]}),x.adjustmentValue&&(0,r.jsxs)("div",{className:"bg-neutral-50 border border-neutral-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-semibold text-neutral-900 mb-2",children:"Preview"}),(0,r.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,r.jsxs)("p",{className:"text-neutral-700",children:["Example: $100.00 →"," ",(0,r.jsxs)("span",{className:"font-semibold text-primary-600",children:["$","percentage"===x.adjustmentType?(100*(1+parseFloat(x.adjustmentValue||"0")/100)).toFixed(2):(100+parseFloat(x.adjustmentValue||"0")).toFixed(2)]})]}),(0,r.jsxs)("p",{className:"text-neutral-700",children:["Example: $250.00 →"," ",(0,r.jsxs)("span",{className:"font-semibold text-primary-600",children:["$","percentage"===x.adjustmentType?(250*(1+parseFloat(x.adjustmentValue||"0")/100)).toFixed(2):(250+parseFloat(x.adjustmentValue||"0")).toFixed(2)]})]})]})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-neutral-200",children:[r.jsx(n.zx,{type:"button",variant:"ghost",onClick:e,disabled:s,className:"flex-1",children:"Cancel"}),r.jsx(n.zx,{type:"submit",variant:"primary",disabled:s,className:"flex-1",children:s?(0,r.jsxs)(r.Fragment,{children:[r.jsx(n.$j,{size:"sm",className:"mr-2"}),"Updating..."]}):"Update Prices"})]})]})]})})}let Z=(0,o.Z)("folder-tree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);function T({onClose:e,onSuccess:t}){let[s,l]=(0,a.useState)(!0),[o,d]=(0,a.useState)(null),[m,u]=(0,a.useState)([]),[x,h]=(0,a.useState)(null),[g,b]=(0,a.useState)(null),[j,f]=(0,a.useState)(""),y=async()=>{try{l(!0);let e=await fetch("/api/admin/categories");if(!e.ok)throw Error("Failed to fetch categories");let t=await e.json();u(t.data||[])}catch(e){console.error("Error fetching categories:",e),d(e instanceof Error?e.message:"Failed to load categories")}finally{l(!1)}},v=async e=>{if(j.trim())try{l(!0),d(null);let s=await fetch("/api/admin/categories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"rename-category",oldCategory:e,newCategory:j.trim()})});if(!s.ok){let e=await s.json();throw Error(e.error?.message||"Failed to rename category")}h(null),f(""),await y(),t()}catch(e){console.error("Error renaming category:",e),d(e instanceof Error?e.message:"Failed to rename category")}finally{l(!1)}},N=async(e,s)=>{if(j.trim())try{l(!0),d(null);let r=await fetch("/api/admin/categories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"rename-subcategory",oldCategory:e,oldSubcategory:s,newSubcategory:j.trim()})});if(!r.ok){let e=await r.json();throw Error(e.error?.message||"Failed to rename subcategory")}b(null),f(""),await y(),t()}catch(e){console.error("Error renaming subcategory:",e),d(e instanceof Error?e.message:"Failed to rename subcategory")}finally{l(!1)}},w=e=>{h(e),f(e),b(null)},C=(e,t)=>{b({category:e,subcategory:t}),f(t),h(null)},k=()=>{h(null),b(null),f("")};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"sticky top-0 bg-white border-b border-neutral-200 px-6 py-4 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:r.jsx(Z,{className:"w-5 h-5 text-primary-600"})}),r.jsx("h2",{className:"text-xl font-bold text-neutral-900",children:"Category Management"})]}),r.jsx("button",{onClick:e,className:"text-neutral-400 hover:text-neutral-600",children:r.jsx(i.Z,{className:"w-6 h-6"})})]}),(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[o&&(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[r.jsx(c.Z,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold text-red-900",children:"Error"}),r.jsx("p",{className:"text-sm text-red-700 mt-1",children:o})]})]}),s&&!m.length?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(n.$j,{size:"lg"})}):(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,r.jsxs)("p",{className:"text-sm text-blue-900",children:[r.jsx("strong",{children:"Note:"})," Renaming categories will update all components in that category. This action cannot be undone."]})}),r.jsx("div",{className:"space-y-4",children:m.map(e=>(0,r.jsxs)("div",{className:"border border-neutral-200 rounded-lg p-4",children:[r.jsx("div",{className:"flex items-center justify-between mb-3",children:x===e.name?(0,r.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[r.jsx("input",{type:"text",value:j,onChange:e=>f(e.target.value),className:"flex-1 px-3 py-2 border border-neutral-300 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500",autoFocus:!0}),r.jsx(n.zx,{variant:"primary",size:"sm",onClick:()=>v(e.name),disabled:s,children:"Save"}),r.jsx(n.zx,{variant:"ghost",size:"sm",onClick:k,disabled:s,children:"Cancel"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold text-neutral-900",children:e.name}),(0,r.jsxs)("p",{className:"text-sm text-neutral-600",children:[e.count," component",1!==e.count?"s":""]})]}),r.jsx("button",{onClick:()=>w(e.name),className:"text-neutral-600 hover:text-primary-600",children:r.jsx(p.Z,{className:"w-4 h-4"})})]})}),e.subcategories.length>0&&r.jsx("div",{className:"ml-4 space-y-2 border-l-2 border-neutral-200 pl-4",children:e.subcategories.map(t=>r.jsx("div",{className:"flex items-center justify-between",children:g?.category===e.name&&g?.subcategory===t.name?(0,r.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[r.jsx("input",{type:"text",value:j,onChange:e=>f(e.target.value),className:"flex-1 px-3 py-1.5 border border-neutral-300 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500",autoFocus:!0}),r.jsx(n.zx,{variant:"primary",size:"sm",onClick:()=>N(e.name,t.name),disabled:s,children:"Save"}),r.jsx(n.zx,{variant:"ghost",size:"sm",onClick:k,disabled:s,children:"Cancel"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-neutral-700",children:t.name}),(0,r.jsxs)("p",{className:"text-xs text-neutral-500",children:[t.count," component",1!==t.count?"s":""]})]}),r.jsx("button",{onClick:()=>C(e.name,t.name),className:"text-neutral-600 hover:text-primary-600",children:r.jsx(p.Z,{className:"w-3 h-3"})})]})},t.name))})]},e.name))})]})]}),r.jsx("div",{className:"border-t border-neutral-200 px-6 py-4",children:r.jsx(n.zx,{variant:"ghost",onClick:e,className:"w-full",children:"Close"})})]})})}function q(){let[e,t]=(0,a.useState)(!1),[s,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)(!1),[d,c]=(0,a.useState)(0);return(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-neutral-900",children:"Component Management"}),r.jsx("p",{className:"mt-2 text-neutral-600",children:"Manage modular components for the product configurator"})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsxs)(n.zx,{variant:"secondary",onClick:()=>o(!0),className:"flex items-center gap-2",children:[r.jsx(Z,{className:"w-5 h-5"}),"Categories"]}),(0,r.jsxs)(n.zx,{variant:"secondary",onClick:()=>l(!0),className:"flex items-center gap-2",children:[r.jsx(P.Z,{className:"w-5 h-5"}),"Bulk Pricing"]}),(0,r.jsxs)(n.zx,{variant:"primary",onClick:()=>t(!0),className:"flex items-center gap-2",children:[r.jsx(x,{className:"w-5 h-5"}),"Add Component"]})]})]}),r.jsx(F,{refreshTrigger:d,onComponentUpdated:()=>{c(e=>e+1)},onComponentDeleted:()=>{c(e=>e+1)}}),e&&r.jsx(f,{mode:"create",onClose:()=>t(!1),onSuccess:()=>{t(!1),c(e=>e+1)}}),s&&r.jsx(E,{onClose:()=>l(!1),onSuccess:()=>{l(!1),c(e=>e+1)}}),i&&r.jsx(T,{onClose:()=>o(!1),onSuccess:()=>{o(!1),c(e=>e+1)}})]})}},16573:(e,t,s)=>{"use strict";s.d(t,{X:()=>i,x:()=>d});var r=s(10326),a=s(17577),l=s.n(a),n=s(77863);let i=l().forwardRef(({as:e,variant:t,className:s,children:a,...l},i)=>{let o=t||("h1"===e?"h1":e||"h2");return r.jsx(e||"h2",{ref:i,className:(0,n.cn)({hero:"text-hero font-bold leading-tight tracking-tight text-neutral-900",h1:"text-h1 font-bold leading-tight tracking-tight text-neutral-900",h2:"text-h2 font-semibold leading-tight tracking-tight text-neutral-900",h3:"text-h3 font-semibold leading-snug text-neutral-900",h4:"text-xl font-semibold leading-snug text-neutral-900",h5:"text-lg font-medium leading-normal text-neutral-900",h6:"text-base font-medium leading-normal text-neutral-900"}[o],s),...l,children:a})});i.displayName="Heading";let o=(e,t,s)=>(0,n.cn)({large:"text-lg leading-relaxed",body:"text-base leading-relaxed",small:"text-sm leading-normal",caption:"text-xs leading-normal"}[e],{regular:"font-normal",medium:"font-medium",semibold:"font-semibold",bold:"font-bold"}[t],{default:"text-neutral-900",muted:"text-neutral-700",subtle:"text-neutral-500",primary:"text-primary-600",secondary:"text-secondary-600"}[s]),d=l().forwardRef(({variant:e="body",weight:t="regular",color:s="default",className:a,children:l,...i},d)=>r.jsx("p",{ref:d,className:(0,n.cn)(o(e,t,s),a),...i,children:l}));d.displayName="Text"},85119:(e,t,s)=>{"use strict";s.d(t,{zx:()=>r.z,$j:()=>a.$j}),s(16573);var r=s(3679);s(62971),s(84194),s(72622),s(20677),s(11441);var a=s(9007);s(10326),s(69221),s(17577),s(92030)},69221:(e,t,s)=>{"use strict";s.d(t,{m:()=>l});var r=s(10326),a=s(11441);function l(){return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-soft overflow-hidden",children:[r.jsx(a.Od,{height:"250px",variant:"none"}),(0,r.jsxs)("div",{className:"p-6 space-y-4",children:[r.jsx(a.Od,{height:"1.5rem",width:"70%"}),r.jsx(a.N2,{lines:2}),(0,r.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[r.jsx(a.Od,{height:"2rem",width:"100px"}),r.jsx(a.Od,{height:"2.5rem",width:"120px",variant:"rounded"})]})]})]})}},71821:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},85206:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},88307:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},98091:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},50949:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},94019:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},13347:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`/Users/almeidajose/Documents/A/App/Extreme V/app/admin/components/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[8948,911,6621,8691,5177,1008,3068,5714],()=>s(28687));module.exports=r})();