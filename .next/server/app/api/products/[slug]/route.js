"use strict";(()=>{var e={};e.id=6039,e.ids=[6039,9313],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},51326:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>h,patchFetch:()=>y,requestAsyncStorage:()=>l,routeModule:()=>p,serverHooks:()=>g,staticGenerationAsyncStorage:()=>m});var n={};t.r(n),t.d(n,{GET:()=>c,dynamic:()=>d});var o=t(49303),i=t(88716),s=t(60670),a=t(87070),u=t(29313);let d="force-dynamic";async function c(e,{params:r}){try{let{slug:e}=r,t=await (0,u.Co)(e);if(!t||!t.published)return a.NextResponse.json({error:{code:"NOT_FOUND",message:"Product not found",timestamp:new Date().toISOString()}},{status:404});let n=(await (0,u.Xp)({tierId:t.tierId,published:!0,NOT:{id:t.id}})).slice(0,4);return a.NextResponse.json({product:t,relatedProducts:n})}catch(e){return console.error("Error fetching product:",e),a.NextResponse.json({error:{code:"INTERNAL_ERROR",message:"Failed to fetch product",timestamp:new Date().toISOString()}},{status:500})}}let p=new o.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/products/[slug]/route",pathname:"/api/products/[slug]",filename:"route",bundlePath:"app/api/products/[slug]/route"},resolvedPagePath:"/Users/almeidajose/Documents/A/App/Extreme V/app/api/products/[slug]/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:l,staticGenerationAsyncStorage:m,serverHooks:g}=p,h="/api/products/[slug]/route";function y(){return(0,s.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:m})}},29313:(e,r,t)=>{t.d(r,{Co:()=>s,Xp:()=>i,eJ:()=>o,getComponents:()=>a,getComponentsByCategory:()=>u});var n=t(72331);async function o(e){return n.Z.productTier.findMany({where:{published:!0,...e},orderBy:{order:"asc"}})}async function i(e){return n.Z.product.findMany({where:{published:!0,...e},include:{tier:!0},orderBy:{createdAt:"desc"}})}async function s(e){return n.Z.product.findUnique({where:{slug:e},include:{tier:!0}})}async function a(e){return n.Z.component.findMany({where:{published:!0,...e},include:{tier:!0},orderBy:[{category:"asc"},{name:"asc"}]})}async function u(e){return n.Z.component.findMany({where:{category:e,published:!0},include:{tier:!0},orderBy:{name:"asc"}})}},72331:(e,r,t)=>{t.d(r,{Z:()=>a,_:()=>s});var n=t(53524);let o=global,i=null;try{i=o.prisma||new n.PrismaClient({log:["error"]})}catch(e){console.warn("Prisma client initialization failed:",e),i=null}let s=i,a=s}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[8948,5972],()=>t(51326));module.exports=n})();