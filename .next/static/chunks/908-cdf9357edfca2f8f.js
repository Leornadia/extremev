"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[908],{908:function(e,r,a){a.d(r,{RegisterForm:function(){return d}});var s=a(7437),t=a(2265),n=a(9376);a(605);var l=a(7648),i=a(4226),o=a(620);function d(){let e=(0,n.useRouter)(),[r,a]=(0,t.useState)({name:"",email:"",password:"",confirmPassword:"",phone:""}),[d,c]=(0,t.useState)({}),[m,u]=(0,t.useState)(!1),[x,h]=(0,t.useState)(!1),p=()=>{let e={};return r.name.trim()?r.name.trim().length<2&&(e.name="Name must be at least 2 characters"):e.name="Name is required",r.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)||(e.email="Invalid email address"):e.email="Email is required",r.password?r.password.length<8?e.password="Password must be at least 8 characters":/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(r.password)||(e.password="Password must contain at least one uppercase letter, one lowercase letter, and one number"):e.password="Password is required",r.confirmPassword?r.password!==r.confirmPassword&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Please confirm your password",c(e),0===Object.keys(e).length},f=async e=>{if(e.preventDefault(),c({}),p()){u(!0);try{var a,s,t;let e=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r.name.trim(),email:r.email.trim().toLowerCase(),password:r.password,phone:(null===(a=r.phone)||void 0===a?void 0:a.trim())||void 0})}),n=await e.json();if(!e.ok){if(null===(s=n.error)||void 0===s?void 0:s.details){let e={};Object.entries(n.error.details).forEach(r=>{let[a,s]=r;Array.isArray(s)&&s.length>0&&(e[a]=s[0])}),c(e)}else c({general:(null===(t=n.error)||void 0===t?void 0:t.message)||"Registration failed"});return}h(!0)}catch(e){console.error("Registration error:",e),c({general:"An unexpected error occurred. Please try again."})}finally{u(!1)}}},b=e=>{let{name:r,value:s}=e.target;a(e=>({...e,[r]:s})),d[r]&&c(e=>({...e,[r]:void 0}))};return x?(0,s.jsx)("div",{className:"max-w-md mx-auto",children:(0,s.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Registration Successful!"}),(0,s.jsxs)("p",{className:"text-gray-700 mb-4",children:["We've sent a verification email to"," ",(0,s.jsx)("strong",{children:r.email})]}),(0,s.jsx)("p",{className:"text-gray-600 text-sm mb-6",children:"Please check your inbox and click the verification link to activate your account. The link will expire in 24 hours."}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(i.z,{variant:"primary",onClick:()=>e.push("/auth/signin"),className:"w-full",children:"Go to Sign In"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Didn't receive the email?"," ",(0,s.jsx)("button",{onClick:()=>h(!1),className:"text-green-600 hover:text-green-700 font-medium",children:"Try again"})]})]})]})}):(0,s.jsx)("div",{className:"max-w-md mx-auto",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Account"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Join Extreme V to save your custom designs"})]}),d.general&&(0,s.jsx)("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:(0,s.jsx)("p",{className:"text-red-800 text-sm",children:d.general})}),(0,s.jsxs)("form",{onSubmit:f,className:"space-y-5",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),(0,s.jsx)(o.II,{id:"name",name:"name",type:"text",value:r.name,onChange:b,placeholder:"John Doe",disabled:m,error:d.name,required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),(0,s.jsx)(o.II,{id:"email",name:"email",type:"email",value:r.email,onChange:b,placeholder:"john@example.com",disabled:m,error:d.email,required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number (Optional)"}),(0,s.jsx)(o.II,{id:"phone",name:"phone",type:"tel",value:r.phone,onChange:b,placeholder:"+27 12 345 6789",disabled:m,error:d.phone})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password *"}),(0,s.jsx)(o.II,{id:"password",name:"password",type:"password",value:r.password,onChange:b,placeholder:"••••••••",disabled:m,error:d.password,required:!0}),(0,s.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Must be at least 8 characters with uppercase, lowercase, and number"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password *"}),(0,s.jsx)(o.II,{id:"confirmPassword",name:"confirmPassword",type:"password",value:r.confirmPassword,onChange:b,placeholder:"••••••••",disabled:m,error:d.confirmPassword,required:!0})]}),(0,s.jsx)(i.z,{type:"submit",variant:"primary",disabled:m,className:"w-full",children:m?"Creating Account...":"Create Account"})]}),(0,s.jsxs)("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:[(0,s.jsx)("p",{className:"text-sm text-blue-800 font-medium mb-1",children:"Demo Mode:"}),(0,s.jsx)("p",{className:"text-xs text-blue-700",children:"Registration is simulated for demonstration. Use any valid email format."})]}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",(0,s.jsx)(l.default,{href:"/auth/signin",className:"text-green-600 hover:text-green-700 font-medium",children:"Sign in"})]})})]})})}},4226:function(e,r,a){a.d(r,{z:function(){return i}});var s=a(7437),t=a(2265),n=a(7648),l=a(4508);let i=t.forwardRef((e,r)=>{let{variant:a="primary",size:t="md",loading:i=!1,isLoading:o=!1,fullWidth:d=!1,disabled:c,href:m,className:u,children:x,...h}=e,p=i||o,f=(0,l.cn)("inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500 active:bg-primary-800",secondary:"bg-secondary-500 text-white hover:bg-secondary-600 focus:ring-secondary-500 active:bg-secondary-700",ghost:"bg-transparent text-neutral-700 hover:bg-neutral-100 focus:ring-neutral-500 active:bg-neutral-200",outline:"bg-transparent border-2 border-neutral-200 text-neutral-700 hover:border-primary-500 hover:text-primary-600 focus:ring-primary-500 active:bg-primary-50"}[a],{sm:"min-h-[44px] px-4 py-2 text-sm",md:"min-h-[44px] px-6 py-3 text-base",lg:"min-h-[44px] px-8 py-4 text-lg"}[t],d&&"w-full",u),b=(0,s.jsxs)(s.Fragment,{children:[p&&(0,s.jsxs)("svg",{className:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),x]});return m?(0,s.jsx)(n.default,{href:m,className:f,children:b}):(0,s.jsx)("button",{ref:r,disabled:c||p,className:f,...h,children:b})});i.displayName="Button"},620:function(e,r,a){a.d(r,{II:function(){return l},gx:function(){return i}});var s=a(7437),t=a(2265),n=a(4508);let l=t.forwardRef((e,r)=>{let{label:a,error:t,helperText:l,className:i,id:o,required:d,...c}=e,m=o||"input-".concat(Math.random().toString(36).substr(2,9)),u=!!t;return(0,s.jsxs)("div",{className:"w-full",children:[a&&(0,s.jsxs)("label",{htmlFor:m,className:"mb-2 block text-sm font-medium text-neutral-700",children:[a,d&&(0,s.jsx)("span",{className:"ml-1 text-red-500",children:"*"})]}),(0,s.jsx)("input",{ref:r,id:m,required:d,className:(0,n.cn)("w-full rounded-lg border px-4 py-3 text-base transition-colors","focus:outline-none focus:ring-2 focus:ring-offset-1","disabled:cursor-not-allowed disabled:opacity-50",u?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-neutral-300 focus:border-primary-500 focus:ring-primary-500",i),"aria-invalid":u,"aria-describedby":t?"".concat(m,"-error"):l?"".concat(m,"-helper"):void 0,...c}),t&&(0,s.jsx)("p",{id:"".concat(m,"-error"),className:"mt-1 text-sm text-red-600",role:"alert",children:t}),l&&!t&&(0,s.jsx)("p",{id:"".concat(m,"-helper"),className:"mt-1 text-sm text-neutral-500",children:l})]})});l.displayName="Input";let i=t.forwardRef((e,r)=>{let{label:a,error:t,helperText:l,className:i,id:o,required:d,rows:c=4,...m}=e,u=o||"textarea-".concat(Math.random().toString(36).substr(2,9)),x=!!t;return(0,s.jsxs)("div",{className:"w-full",children:[a&&(0,s.jsxs)("label",{htmlFor:u,className:"mb-2 block text-sm font-medium text-neutral-700",children:[a,d&&(0,s.jsx)("span",{className:"ml-1 text-red-500",children:"*"})]}),(0,s.jsx)("textarea",{ref:r,id:u,required:d,rows:c,className:(0,n.cn)("w-full rounded-lg border px-4 py-3 text-base transition-colors","focus:outline-none focus:ring-2 focus:ring-offset-1","disabled:cursor-not-allowed disabled:opacity-50",x?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-neutral-300 focus:border-primary-500 focus:ring-primary-500",i),"aria-invalid":x,"aria-describedby":t?"".concat(u,"-error"):l?"".concat(u,"-helper"):void 0,...m}),t&&(0,s.jsx)("p",{id:"".concat(u,"-error"),className:"mt-1 text-sm text-red-600",role:"alert",children:t}),l&&!t&&(0,s.jsx)("p",{id:"".concat(u,"-helper"),className:"mt-1 text-sm text-neutral-500",children:l})]})});i.displayName="Textarea",t.forwardRef((e,r)=>{let{label:a,error:t,helperText:l,options:i,className:o,id:d,required:c,...m}=e,u=d||"select-".concat(Math.random().toString(36).substr(2,9)),x=!!t;return(0,s.jsxs)("div",{className:"w-full",children:[a&&(0,s.jsxs)("label",{htmlFor:u,className:"mb-2 block text-sm font-medium text-neutral-700",children:[a,c&&(0,s.jsx)("span",{className:"ml-1 text-red-500",children:"*"})]}),(0,s.jsx)("select",{ref:r,id:u,required:c,className:(0,n.cn)("w-full rounded-lg border px-4 py-3 text-base transition-colors","focus:outline-none focus:ring-2 focus:ring-offset-1","disabled:cursor-not-allowed disabled:opacity-50",x?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-neutral-300 focus:border-primary-500 focus:ring-primary-500",o),"aria-invalid":x,"aria-describedby":t?"".concat(u,"-error"):l?"".concat(u,"-helper"):void 0,...m,children:i.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))}),t&&(0,s.jsx)("p",{id:"".concat(u,"-error"),className:"mt-1 text-sm text-red-600",role:"alert",children:t}),l&&!t&&(0,s.jsx)("p",{id:"".concat(u,"-helper"),className:"mt-1 text-sm text-neutral-500",children:l})]})}).displayName="Select",t.forwardRef((e,r)=>{let{label:a,error:t,helperText:l,className:i,id:o,...d}=e,c=o||"checkbox-".concat(Math.random().toString(36).substr(2,9)),m=!!t;return(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"flex h-6 items-center",children:(0,s.jsx)("input",{ref:r,id:c,type:"checkbox",className:(0,n.cn)("h-5 w-5 rounded border transition-colors","focus:outline-none focus:ring-2 focus:ring-offset-1","disabled:cursor-not-allowed disabled:opacity-50",m?"border-red-300 text-red-600 focus:ring-red-500":"border-neutral-300 text-primary-600 focus:ring-primary-500",i),"aria-invalid":m,"aria-describedby":t?"".concat(c,"-error"):l?"".concat(c,"-helper"):void 0,...d})}),(0,s.jsxs)("div",{className:"ml-3",children:[(0,s.jsx)("label",{htmlFor:c,className:"text-sm font-medium text-neutral-700",children:a}),l&&!t&&(0,s.jsx)("p",{id:"".concat(c,"-helper"),className:"text-sm text-neutral-500",children:l})]})]}),t&&(0,s.jsx)("p",{id:"".concat(c,"-error"),className:"mt-1 text-sm text-red-600",role:"alert",children:t})]})}).displayName="Checkbox"},4508:function(e,r,a){a.d(r,{cn:function(){return n}});var s=a(1994),t=a(3335);function n(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return(0,t.m6)((0,s.W)(r))}}}]);